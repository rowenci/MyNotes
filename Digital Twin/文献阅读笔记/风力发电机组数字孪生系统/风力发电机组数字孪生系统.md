# 风力发电机组数字孪生系统

## 摘要

本文引入信息-物理实时映射思想, 首次构建并实现了风力发电机组的数字孪生系统. 

设计了数字孪生系统整体架构, 综合机理与数据方法搭建了各子系统实时动态模型; 

通过对数据信息流的有效组织, 解决了风电机组和数字孪生系统之间的数据实时通信、精准映射及可视化呈现问题; 

应用多模型数字线程交互技术, 实现了对风电机组整机动态载荷的实时模拟; 

通过与在役风电机组实际运行数据的量化对比,验证了该数字孪生系统的实时性与模型精度, 探讨了其未来应用场景及功能拓展方向.

## 1. 引言

本文的主要创新点和贡献如下.

(1) 结合我国当前风电发展的现状和技术需求, 系统梳理了风力发电机组数字孪生系统应具备的核心能力, 针对风电机组的实际运维需求, **设计了数字孪生系统整体架构及其功能组成**.

(2) 综合叶素动量理论、有限元分析、双质块传动等机理建模方法, 辅助运行数据修正, 针对某在役2.0 MW风电机组, 建立了**包含控制系统和关键部件的机组闭环运行数字孪生模型**, 通过**多模型数字线程交互技术**, 实现了对整机动态载荷的实时模拟.
(3) 构建了风电机组数字孪生平台, 在数据治理、数据交互、支撑平台选取、安全防护机制构建等方面进行了系统性设计, 通过对数据信息流的有效组织, 实现了实际风电机组和数字孪生模型之间的实时通信、精准映射及可视化呈现.



## 2. 风力发电机组数字孪生系统架构设计

### 2.1. 风力发电机组数字孪生系统核心能力

(1) 实时物联感知能力

(2) 多领域融合精准映射能

(3) 可视化呈现能力

(4) 模拟仿真推演能力

(5) 模型自主学习更新优化能力

(6) 边缘治理能力

### 2.2. 风力发电机组数字孪生系统整体架构

![1](F:\MyNotes\Digital Twin\文献阅读笔记\风力发电机组数字孪生系统\1.jpg)

#### 2.2.1. 风电机组运行数据获取

数字孪生系统可以利用TCP/IP、UDP等通信方式, 从风电机组的数据采集与监控系统(supervisory control and data acquisition,SCADA)及状态监测系统(condition monitoring system,CMS)实时获得风速、风向数据, 以及相关运行参数和控制指令, 实现数字孪生系统对风电机组运行状态的实时感知. 在边缘治理模式下, 数字孪生平台通过空中下载(over the air technology, OTA)等远程升级技术保证边缘数据治理功能的在线更新.

#### 2.2.2. 数字孪生平台

(1) 存储系统

(2) 数据交互系统

(3) 孪生模型系统

(4) 业务系统

#### 2.2.3. 可视化与人机交互

采用http和websocket双向通信协议, 在各类用户终端, 基于3D图形引擎, 实时动态展示风电机组数字孪生系统运行画面



## 3. 风电机组数字孪生模型开发

### 3.1. 风电机组类型及参数

建模方法采用有限元分析+数据修正, 模型在Matlab/Simulink平台上搭建.

### 3.2. 风电机组关键部件建模

#### 3.2.1. 基于叶素动量理论的叶片机理建模

#### 3.2.2. 基于有限元分析的塔筒机理建模

#### 3.2.3. 双质块传动系统

不懂，太专业了

### 3.3. 控制系统结构与参数

![2](F:\MyNotes\Digital Twin\文献阅读笔记\风力发电机组数字孪生系统\2.jpg)

风电机组控制系统回路图

数字孪生闭环控制系统主要包括发电机转矩控制子系统、叶片变桨控制子系统、偏航控制子系统、刹车系统及输出与通信子系统等.

上述孪生模型在Simulink的Real-Time模式下实现与风电机组的同步仿真, 孪生模型与数字孪生平台其他子系统的数据通信通过TCP/IP协议实现.

### 3.4. 模型验证与数据修正

数字孪生模型的验证与数据修正主要分两个阶段: 机理模型修正阶段和控制系统修正阶段。

第一阶段修正主要针对风电机组本体模型.

第二阶段修正主要针对控制系统结构和参数.



## 4. 数字孪生平台

### 4.1. 数字孪生平台功能及实现

数字孪生平台应具备实时安全的网络通信、数据治理、孪生模型仿真、人机交互动态展示以及智能算法拓展接口等功能.

![3](F:\MyNotes\Digital Twin\文献阅读笔记\风力发电机组数字孪生系统\3.jpg)

数字孪生平台整体技术架构



平台开发涉及的语言以Golang、Python、Java-Script、C++为主, 辅以其他脚本语言. 支持分布式部署及相应的高并发、高可用需求, 为保证运行的安全性和可靠性, 平台采用linux操作系统. 在平台治理方面选用docker作为应用容器引擎, 用Prometheus搭建服务监控系统和时间序列数据库, 用Grafana数据可视化工具对平台性能指标进行统计、监控和告警, 为系统安全运行提供保障.

数据采集和通讯方式可根据实际业务需求, 结合平台部署方式选择. 采用边缘计算方式可将部分仿真、计算以及实效性要求高的业务放在靠近风电机组的边缘侧处理, 为平台侧分担压力; 同时根据业务需求将处理后的数据发送到平台侧. 本平台选择k3s进行边缘计算治理, 同时服务端也搭配k3s Server进行云边协同, OTA等远程升级技术可以保证边缘侧的在线更新.如不采用边缘计算、云边协同方式, 则原始数据及相关业务数据经Protobuf这一数据序列化工具处理后通过TCP/IP、MQTT等传输协议发送到平台侧. 理想情况下, 风电机组也可通过安全数据传输方式接收来自平台侧的调控指令.

数据治理方面, TimescaleDB被用来构建时序数据库, 其优点是具备原生SQL接口, 有较高的写入效率和存储可靠性; PgSQL搭建多种业务的关系型数据库;Minio则用来搭建分布式文件系统. 通过以下几个措施实现了数据存取与管理的高效率、实时性: 风电机组运行数据中时序数据占据较大比重, 应用S p a r k Streaming框架有针对性地实现了高吞吐量的、具备容错机制的实时流数据处理; 应用分布式大数据实时计算引擎Flink保证了系统数据处理时的高吞吐量和低迟延; 硬件方面采用了固态硬盘(solid state disk,SSD)加上对最近时刻数据进行热缓存等方式来保证数据存取的高效率.

数据交互涵盖边缘侧与平台侧的数据交互、平台子系统间的数据交互以及相关业务的数据交互三个方面. 数字孪生平台主要从权限管理和防范网络攻击两方面来保证数据交互及整个系统的安全. 边缘侧与平台进行数据通信时需要账号密码验证, 进行不同的业务交互时, 平台会分配清晰的用户权限; 业务侧分配具有时效性的token, 所有业务及数据的访问需携带该token进行操作. 数字孪生平台主要基于网站应用级入侵防御系统(web application firewall, WAF)对访问进行过滤, 防止CC、SQL注入、CSRF等类型的攻击. 在高并发方面主要通过LVS、DNS轮询方式确保系统负载均衡, Supervisr系统监控管理进程等手段保证了整个系统的高可用性.

风电机组数字孪生模型主要包括机理模型和数据驱动的学习模型, 基于Python、C/C++以及相关的依赖库开发, 如numpy、pandas是Python环境下的针对数组、矩阵运算的数学函数库, 而blitz++与mtl等都是基于C++template的高效数值计算程序库. 为孪生模型服务的智能算法接口是数字孪生平台中的一项重要拓展功能, 也是重点发展方向.

### 4.2. 数字孪生系统数据流及实时性

蓝色箭头指示了数字孪生系统在实时运行时各功能模块之间的数据/信息流. 从风电机组采集到的环境信息、运行参数等利用TCP/IP, MQTT等协议传输到数字孪生平台的存储系统, 数字孪生模型通过数据治理模块实时订阅经过预处理的实时运行数据. 以在Simulink中运行的数字孪生模型为例, 以客户端身份通过TCP/IP协议从数据治理模块获取风速、风向等信息, 并在Real-Time模式下实现与风电机组的同步仿真.

孪生模型根据前一时刻风电机组的状态进行初始化, 而后启动实时仿真, 并以每0.0125 s输出一组仿真数据的频率通过TCP/IP协议发送给数据孪生平台的存储系统, 供人机交互和可视化呈现等业务使用. 风电机组与孪生模型实时产生的运行参数经Web人机交互服务器处理后, 以每1 s一组的频率向Web页面推送, 进行动态展示. 用户可以通过访问指定IP同时实时监测风电机组和数字孪生模型的运行状态. 经实际验证, 风电机组状态同步仿真和虚实交互两个进程的整体时延小于200 ms, 符合数字孪生系统“实时物联感知”的需求.



## 结论

针对风电场数字化系统建设和智能运维需求, 本文研发了一套风力发电机组数字孪生系统. 该系统可以实时、高精度表达风电机组在多种运行工况下, 各关键部件的动态响应特性, 包括整机动态载荷的变化情况, 达到了精准映射风电机组运行状态的目标, 为发电装备数字孪生系统建设提供了一套可供参考的实施方案.

本文构建的数字孪生平台实现了**实时物联感知、多领域融合精准映射、可视化呈现、模拟仿真推演**等四大核心功能. 作为对数字孪生技术的应用探索, 在未来的工作中还须重点关注智能算法拓展接口、边缘侧治理架构与算法、模型自主学习更新等方面的研究,研发专用硬件设备, 建立更多符合行业需求的应用场景, 推动数字孪生技术及系统以更加规范的方式快速发展, 为智能化风电建设提供助力.