# 工厂模式

工厂模式属于**创建型模式**，提供了一种创建对象的最佳方式。

在使用工厂模式之前是怎么创建对象的？一般都是写完一个类之后直接new出相应的实例。随后对这个实例进行相应的初始化操作。除此之外，每个不同的对象都需要写不同的new。

而如果使用了工厂模式，创建对象的时候就只用调用工厂类当中的方法，通过方法的返回值来获取对象实例，而不用对外暴露创建对象的逻辑。同时，不同的对象可以通过使用一个共同的接口来创建新的对象实例。

工厂模式的前提是类的继承与接口的实现。

![工厂模式的 UML 图](https://cdn.jsdelivr.net/gh/rowenci/ImagePool/img/typoraAB6B814A-0B09-4863-93D6-1E22D6B07FF8.jpg)

如图为菜鸟教程当中的UML类图。首先，Shape为一个接口，该接口当中有一个draw方法。Circle、Square、Rectangle根据自身的不同需求，实现了该接口。

通过这种实现关系，即可使用Shape这个接口来接收下面三个实例化出来的对象，但只能执行draw方法。因此，在定义创建的对象之前要抽象好对象的公共方法。

最后，就需要创建一个工厂，该工厂的作用就是根据给定的参数来创建相应的对象实例。每种不同对象的创建方法都被写在了该工厂当中。

如果要使用该工厂，首先就实例化该工厂对象，调用对象当中的获取方法并传入相应的参数。最终，返回的就是**root对象**。

根据多态的知识，可以知道，Shape接的是不同的子类实例，因此draw方法可以有不同的执行方式。