# 第四章 复合类型

## 4.1. 数组

创建语法：

typeName arrayName[arraySize];

或

typeName arrayName[arraySize] = {e1, e2, ... , e(arraySize)};

### 4.1.2. 数组的初始化规则

只有在定义数组的时候才能使用初始化，以后就不能使用了，也不能将一个数组赋值给另一个数组。只能用循环一个个地来赋值。

如果只对数组的一部分进行初始化，编译器将会把其他元素设置为0。所以如果想要将数组中所有元素设置为0，可以直接：

long totals[500] = {0};

如果初始化数组的时候，不指定元素个数，编译器就会根据后面赋值的个数来对数组元素个数进行计算。

short things[] = {1, 5, 3, 8};

things数组将包含4个元素。

如何获得数组的大小呢

int num_elements = sizeof(things) / sizeof(short);

### 4.1.3. C++11数组初始化方法

1. 可以省略等于号
2. 可以不再大括号内包含任何元素，这种会把数组元素都设置为0
3. 不允许缩窄转换。如浮点不能转int。

## 4.2. 字符串

什么是字符串？字符串就是多个字符。

所以说，字符串就是用char数组存储的一系列char类型元素。

C语言风格的字符串有一个特殊性质：以空字符结尾，也就是“\0”

```c++
char dog[8] = {'b', 'e', 'a', 'u', 'x', ' ', 'I', 'I'};
char cat[8] = {'f', 'a', 't', 'e', 'S', 's', 'a', '\0'};
```

这两个都是char数组，但只有第二个是空字符串。

如果使用cout分别输出这两个数组的话，cat能正常输出。而dog会在数组输出完之后继续输出相邻内存当中的数据并将其解释为字符，直到遇见\0才会停止。



还有一各创建字符串数组的方法。

char bird[11] = "Mr. Cheeps";（这里的数组大小是加上\0之后的）

char fish[] = "Bubbles";

就是用双引号来创建，而且不需要加上大括号。后面会自动加上空字符。



字符串常量（双引号）不能和字符常量（单引号）互换。

char shirt_size = 'S';

这个是将83进行赋值。



char shirt_size = "S";

这是将“S”字符串所在的内存地址赋值给shirt_size。

### 4.2.1. 拼接字符串常量

使用cout输出的时候，任何两个由空白（空格、制表符、换行符）分割的字符串常量都会被自动拼接成一个。

### 4.2.2. 在数组中使用字符串

