# BSP画刷

## 什么是BSP画刷

BSP(Binary Space Partitioning)（二进制空间分区）

在虚幻引擎4中有很多不同的方法可以创建、编辑场景中的几何体。通常意义下，相对于直接创建几何体而言，使用**静态网格体**是比较好的做法（性能上较优秀）。同时，由于静态网格体要求在引擎外部的3D建模软件中创建。因此，如要快速创建简单的静态网格体，就可以使用引擎中的几何体编辑工具来快速搭建原型场景。

BSP就是用来简单搭建模型用的。



很久以前，BSP被用来作为关卡设计中的主要构件模块。但是现在，这个角色被静态网格体来承担，相较而言，静态网格体更高效。但是BSP更能快速构建原型场景。



## BSP画刷的使用

在UE4中，最基本的BSP画刷就是几何体。

![2021-09-07_205215](F:\MyNotes\UE4\BSP画刷\2021-09-07_205215.png)

这每一个几何体都是一个Brush。一个模型就是由这不同的几何体堆积，裁剪出来的。

在添加几何体的时候在下面可以看见两个选项。一个是添加，另一个是减去。

首先是添加，添加的作用就是直接生成一个几何体，用来进行模型的堆积，这个几何体可以被直接看见。

然后是减去，减去的作用就是在“添加”的几何体上裁剪出相应的形状。

![2021-09-07_205503](F:\MyNotes\UE4\BSP画刷\2021-09-07_205503.png)

如图所示，外面的带网格的就是“添加”的网格体。看不见的网格体，只有边框线的这个就是“减去”的网格体。两者相结合，可以裁剪出不同的形状。

下面看一下在详情页面当中的网格体。

![3](F:\MyNotes\UE4\BSP画刷\3.png)

“变换”：这个变换是直接变换网格体的位置、旋转以及缩放。



“选择”：可以通过“几何体”当中的“选择”来选择相邻或者其他的几何体。或者“对齐”其他几何体。



“画刷设置”：笔刷类型有Additive和Subtractive。分别对应“添加”和“减去”。

然后要注意的一点就是，如果直接通过“变换”中的“缩放”来变大或者变小几何体的话，那么几何体表面的材质将会被强制拉伸，换个说法就是如果表面是个照片，那这个照片就不会被等比例缩放。

而通过“画刷设置”中的XYZ来缩放的话，就不会有这种问题。



“中空”：这个的作用就是设置几何体内部是否是空心的。

在勾选“中空之后”，“墙壁厚度”就可变了。这个作用就是改变几何体内部空间的大小。



“固体性”：这个固体性就是看能不能阻挡玩家。

固体能阻挡玩家和子弹。可以是添加型或者挖空型。可以被分割。

半固体能阻挡玩家和子弹，不可以是挖空型。不能被分割。

非固体不能阻挡。不能挖空。不能分割。



**注意：拉到场景中的BSP是有层级关系的。**

比如，如果先创建一个“subtractive”几何体，后创建一个“additive”几何体。那么这个后创建的几何体不会被“subtractive”几何体影响。

如果想要它被影响，就选中“subtractive”几何体，在“画刷设置”中的“排序”，将这个几何体排序到最后一个，就可以让这个几何体能够影响在它之后被添加的“additive”几何体了。

## BSP画刷工具编辑

![4](F:\MyNotes\UE4\BSP画刷\4.png)

在模式中选择笔刷编辑

可以单独选择顶点，边和面。然后可以使用工具来移动、合并它们并创建所需的形状。

![image-20210907211430301](C:\Users\45928\AppData\Roaming\Typora\typora-user-images\image-20210907211430301.png)

编辑中，可以选择面、点来移动它们改变几何体。



如果选择某个面，可以出现挤压

![5](F:\MyNotes\UE4\BSP画刷\5.png)

挤压的作用是将选择的面向外伸长对应的长度，然后多出来的部分可以进行分段。



如果直接选中几何体某条边上的顶点，就能够进行分割。对整个几何体进行分割。

![7](F:\MyNotes\UE4\BSP画刷\7.png)



如果选中多个顶点，就能进行“焊接”，将这些顶点合为一个。（先点谁就合到谁那）

![8](F:\MyNotes\UE4\BSP画刷\8.png)



“翻转”是对某个面进行翻转。里面翻转到外面。

“三角化”是对选中的面进行三角形的分割。

“优化”是对几何体进行优化，对不需要的分割给合并一块。比如能够合并成一个面就直接进行合并。

![9](F:\MyNotes\UE4\BSP画刷\9.png)



对于一个静态网格体。可以双击内容浏览器中的文件进入编辑页面进行编辑。

![10](F:\MyNotes\UE4\BSP画刷\10.png)

在上面的碰撞中生成碰撞体积。

注意：要根据物体的形状选择对应的碰撞体积，这样会更好。

